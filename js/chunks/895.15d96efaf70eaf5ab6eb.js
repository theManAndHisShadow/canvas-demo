"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[895],{895:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var i=r(540),o=r(349),n=r(31);function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,y(i.key),i)}}function f(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}var v=function(){return f((function e(){d(this,e),this.events={}}),[{key:"addEventListener",value:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}},{key:"dispatchEvent",value:function(e,t){this.events[e]&&this.events[e].forEach((function(e){return e(t)}))}}])}(),b=new WeakSet,g=function(e){function t(e){var r,i,o,n,a=e.id,c=void 0===a?null:a,u=e.renderer,f=e.cx,y=e.cy,v=e.r,g=e.angle,p=void 0===g?.001:g,m=e.direction,x=void 0===m?1:m,T=e.linkedTo,k=void 0===T?null:T,O=e.toothing,C=void 0===O?"external":O,S=e.numberOfTeeth,H=e.tootheHeight,P=e.role,E=void 0===P?"slave":P,M=e.fillColor,R=void 0===M?"rgba(255, 255, 255, 0.1)":M,j=e.alternativeFillColor,W=e.borderColor,B=void 0===W?"rgba(255, 255, 255, 1)":W,_=e.alternativeBorderColor,L=e.borderLineWidth,F=void 0===L?2:L,V=e.devMode,q=void 0!==V&&V;return d(this,t),j="string"==typeof j?j:w(C,E,.4),_="string"==typeof _?_:w(C,E,1),function(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}((i=this,o=l(o=t),r=function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(i,h()?Reflect.construct(o,n||[],l(i).constructor):o.apply(i,n))),b),r.id=c,r.cx=f,r.cy=y,r.r=v,r.angle=p,r.direction=x,r.rotations=0,r.role=E,r.linkedTo="driver"==E?null:k,r.toothing=C,r.numberOfTeeth=S,r.tootheHeight=H,r.fillColor=R,r.alternativeFillColor=j,r.borderColor=B,r.alternativeBorderColor=_,r.borderLineWidth=F,r.renderer=u,r.devMode=q,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(t,e),f(t,[{key:"getRotationSpeed",value:function(e){var t=this;if(null===this.linkedTo)return 1;var r=e.find((function(e){return e.id===t.linkedTo}));return r.getRotationSpeed(e)*r.direction*(r.numberOfTeeth/this.numberOfTeeth*this.direction)}},{key:"rotate",value:function(e){this.angle+=e,Math.abs(this.angle)>=360&&(this.angle=this.angle%360,this.dispatchEvent("fullRotation"))}},{key:"render",value:function(){"external"==this.toothing?(c(b,this,p).call(this),c(b,this,x).call(this)):"internal"==this.toothing&&c(b,this,T).call(this)}}])}(v);function p(){var e=this.devMode?this.alternativeFillColor:this.fillColor,t=this.devMode?this.alternativeBorderColor:this.borderColor;if((0,n.hp)(this.renderer,{cx:this.cx,cy:this.cy,r:10,fillColor:"driver"==this.role?t:e,borderColor:t,borderThickness:this.borderLineWidth}),"driver"==this.role){var r=this.r/3,i={x:this.cx,y:this.cy-r-4},o=(0,n.sR)(this.cx,this.cy,i.x,i.y,this.angle);(0,n.hp)(this.renderer,{cx:this.cx,cy:this.cy,r,fillColor:e,borderColor:t,borderThickness:this.borderLineWidth}),(0,n.V6)(this.renderer,{x1:this.cx,y1:this.cy,x2:o.x,y2:o.y,thickness:10,fillColor:t})}if(!0===this.devMode){var h={x:this.cx,y:this.cy-this.r+this.tootheHeight+5},l=(0,n.sR)(this.cx,this.cy,h.x,h.y,this.angle);(0,n.V6)(this.renderer,{x1:this.cx,y1:this.cy,x2:l.x,y2:l.y,thickness:3,color:"driver"==this.role?"red":"white"})}}function m(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.r-this.tootheHeight,r=[this.r,this.r,t,t],i=r.length,o=this.numberOfTeeth*i,h=0;h<o;h++){var l=2*Math.PI*h/o,a=r[h%i],c=this.cx+a*Math.cos(l),s=this.cy+a*Math.sin(l),d=(0,n.sR)(this.cx,this.cy,c,s,this.angle);0==h?this.renderer.moveTo(d.x,d.y):this.renderer.lineTo(d.x,d.y)}!0===e&&this.renderer.closePath()}function x(){var e=this.devMode?this.alternativeBorderColor:this.borderColor,t=this.devMode?this.alternativeFillColor:this.fillColor;this.renderer.beginPath(),c(b,this,m).call(this),this.renderer.fillStyle=t,this.renderer.strokeStyle=e,this.renderer.lineWidth=this.borderLineWidth,this.renderer.fill(),this.renderer.stroke(),this.renderer.closePath()}function T(){var e=this.devMode?this.alternativeBorderColor:this.borderColor,t=this.devMode?this.alternativeFillColor:this.fillColor;if(this.renderer.beginPath(),this.renderer.arc(this.cx,this.cy,this.r+8,0,2*Math.PI),c(b,this,m).call(this),this.renderer.closePath(),this.renderer.fillStyle=t,this.renderer.fill("evenodd"),this.renderer.lineWidth=this.borderLineWidth,this.renderer.strokeStyle=e,this.renderer.stroke(),this.devMode){var r={x:this.cx,y:this.cy+this.r},i=(0,n.sR)(this.cx,this.cy,r.x,r.y,this.angle);(0,n.V6)(this.renderer,{x1:this.cx,y1:this.cy,x2:i.x,y2:i.y,thickness:3,color:"white"})}}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"external"===e?"driver"===t?"rgba(255, 152, 0, ".concat(r,")"):"rgba(51, 127, 255, ".concat(r,")"):"rgba(158, 25, 45, ".concat(r,")")}function k(e,t){var r=document.querySelector("#root").querySelector("canvas"),i=r.getContext("2d");r.width=600,r.height=400;var o=200.5,h=[[{id:0,role:"driver",cx:361,cy:o,r:170,numberOfTeeth:30,tootheHeight:25},{id:1,linkedTo:0,cx:169,cy:174.5,r:40,numberOfTeeth:5,tootheHeight:18}],[{id:0,role:"driver",cx:169,cy:174.5,r:40,numberOfTeeth:5,tootheHeight:18},{id:1,linkedTo:0,cx:361,cy:o,r:170,numberOfTeeth:30,tootheHeight:25}],[{id:0,role:"driver",cx:484,cy:o,r:40,numberOfTeeth:13,tootheHeight:10},{id:1,linkedTo:0,angle:-35,cx:411,cy:o,r:40,numberOfTeeth:13,tootheHeight:10},{id:2,linkedTo:1,angle:-56,cx:338,cy:o,r:40,numberOfTeeth:13,tootheHeight:10},{id:3,linkedTo:2,angle:-90,cx:264,cy:o,r:40,numberOfTeeth:13,tootheHeight:10},{id:4,linkedTo:3,angle:-138,cx:191,cy:o,r:40,numberOfTeeth:13,tootheHeight:10},{id:5,linkedTo:4,angle:-173,cx:118,cy:o,r:40,numberOfTeeth:13,tootheHeight:10}],[{id:0,role:"driver",cx:531,cy:o,r:40,numberOfTeeth:13,tootheHeight:10},{id:1,linkedTo:0,angle:-16,cx:418,cy:o,r:80,numberOfTeeth:26,tootheHeight:14},{id:2,linkedTo:1,angle:-32,cx:189,cy:o,r:160,numberOfTeeth:52,tootheHeight:14}],[{id:0,role:"driver",cx:531,cy:o,r:40,numberOfTeeth:13,tootheHeight:10},{id:1,linkedTo:0,angle:13,cx:438,cy:o,r:60,numberOfTeeth:20,tootheHeight:12},{id:2,linkedTo:1,angle:7,cx:307,cy:o,r:80,numberOfTeeth:28,tootheHeight:12},{id:3,linkedTo:2,angle:7,cx:136,cy:o,r:100,numberOfTeeth:36,tootheHeight:12}],[{id:0,role:"driver",cx:301,cy:o,r:80,numberOfTeeth:28,tootheHeight:13},{id:1,linkedTo:0,cx:203,cy:273.5,r:50,numberOfTeeth:15,tootheHeight:14},{id:2,linkedTo:0,cx:400,cy:272.5,r:50,numberOfTeeth:15,tootheHeight:14},{id:3,linkedTo:0,cx:301,cy:78.5,r:50,numberOfTeeth:15,tootheHeight:14},{id:4,linkedTo:0,cx:301,cy:o,r:176,toothing:"internal",numberOfTeeth:55,tootheHeight:14}]],l=null;t.subscribe((function(r,o,a){"selectedPreset"==r&&(l=[],e.removeDynamicllyRendered(),h[o].forEach((function(r,a){var c=h[o].find((function(e){return e.id==r.linkedTo}));r.direction="driver"==r.role?1:-1*c.direction,r.renderer=i,r.devMode=t.getState("dev");var s=new g(r),d=(0,n.G1)(a,!0),u="gear_".concat(d);if(h[o].find((function(e){return"internal"==e.toothing}))){var f="external"==s.toothing?"driver"==s.role?"sun":"planet":"ring";e.dynamicRender(u,{type:"display-item",label:"- ".concat(f," gear ").concat(d).concat(s.numberOfTeeth,"</span>")})}else e.dynamicRender(u,{type:"display-item",label:"- ".concat(s.role," gear ").concat(d).concat(s.numberOfTeeth,"</span>")});s.addEventListener("fullRotation",(function(){s.rotations+=1,e.updateValue(u,"".concat(s.rotations," revs."))})),l.push(s)}))),"dev"==r&&l.forEach((function(e){return e.devMode=o}))})),t.setState("selectedPreset",0),t.setState("dev",!1);var a=function(){i.clearRect(0,0,600,400),function(e,t){var r=t.canvasWidth,i=t.canvasHeight,o=!0===t.devMode?"#212125":"#5b55e1",h=25;(0,n.tk)(e,{x:0,y:0,width:r,height:i,fillColor:o}),(0,n.Xw)(e,{cellSize:25,lineThickness:.5,lineColor:"rgba(255, 255, 255, 0.01)"}),(0,n.Xw)(e,{cellSize:i/4,lineThickness:1,lineColor:"rgba(255, 255, 255, 0.04)"}),(0,n.tk)(e,{x:0,y:0,width:r,height:h,fillColor:o}),(0,n.tk)(e,{x:0,y:i-h+1,width:r,height:h,fillColor:o}),(0,n.tk)(e,{x:0,y:0,width:h,height:i,fillColor:o}),(0,n.tk)(e,{x:r-h+1,y:0,width:h,height:i,fillColor:o})}(i,{canvasWidth:600,canvasHeight:400,devMode:t.getState("dev")}),l.forEach((function(e,r){e.render();var i=t.getState("rotationSpeed")/10,o=e.getRotationSpeed(l);e.rotate(i*o)})),requestAnimationFrame(a)};requestAnimationFrame(a)}const O=function(){return i.createElement(o.A,{title:"Spinning gears",desciption:"A visual demonstration of the «gear ratio» principle helps you see with your own eyes how gears with different numbers of teeth interact with each other.",uiTree:{description:{type:"display-infobox",label:"Description",text:"A visual demonstration of the «gear ratio» principle helps you see with your own eyes how gears with different numbers of teeth interact with each other."},dev:{type:"checkbox",label:"Show dev visual",state:!1},rotationSpeed:{type:"input",label:"Rotation speed",minValue:0,maxValue:100,defaultValue:5},selectedPreset:{type:"preset-dropdown-list",label:"Preset",selectedByDefault:0,options:[{name:"Big driver gear",allowedElements:["*"]},{name:"Small driver gear",allowedElements:["*"]},{name:"Chain of equal gears",allowedElements:["*"]},{name:"Chain 1:2:4",allowedElements:["*"]},{name:"Smooth increase",allowedElements:["*"]},{name:"Planetary gearbox",allowedElements:["*"]}]}},code:k})}}}]);