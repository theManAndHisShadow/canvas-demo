"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[696],{696:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ne});var n=r(540),i=r(349);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}var c=s((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t||null,this.parent=null})),u=r(31);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var v=function(e){function t(e,r,n,i){var o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"white";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t,r){return t=y(t),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}(this,t)).x=r,o.y=n,o.planeX=null,o.planeY=null,o.color=i,o.label=e,o.labelColor=a,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"draw",value:function(){this.label&&this.label.length>0&&(0,u.m)(this.renderer,{x:this.x+7,y:this.y-7,text:this.label,color:this.labelColor}),(0,u.hp)(this.renderer,{cx:this.x,cy:this.y,fillColor:this.color,borderColor:this.color,r:2})}}])&&f(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(c);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var S=function(e){function t(e,r,n){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=function(e,t,r){return t=P(t),function(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,r||[],P(e).constructor):t.apply(e,r))}(this,t)).startPoint=new v(e[0],e[1],e[2],n),i.endPoint=new v(r[0],r[1],r[2],n),i.color=n,i.thickness=o,i.length=(0,u.Q$)(e[1],e[2],r[1],r[2]),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),r=t,(n=[{key:"draw",value:function(){(0,u.V6)(this.renderer,{x1:this.startPoint.x,y1:this.startPoint.y,x2:this.endPoint.x,y2:this.endPoint.y,thickness:this.thickness,color:this.startPoint.color}),this.startPoint.draw(),this.endPoint.draw()}}])&&w(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(c);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function C(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}var E=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"detect",value:function(e){return/x\^3/g.test(e)?"cubic":/x\^2/g.test(e)?"quadratic":/e\^\{?\-?(\d+\/?\d+|0\.\d{1,})?x\}?/g.test(e)?"exponential":/\/\d?x/g.test(e)?"hyperbolic":"linear"}},{key:"parse",value:function(e,t){var r={},n=new RegExp("(?<!{)([+-])+","gm"),i=e.split(n),o=function(e){return e=/(\{|\})/gm.test(e)?e.replace(/(\{|\})/gm,""):e,/\//g.test(e)?Number((0,u.$d)(e).toFixed(5)):e};if("linear"==t){var a=0,s=0;i.forEach((function(e,t){if(e.trim().length>0&&!n.test(e)){var r=t>0&&"-"===i[t-1]?-1:1;/x/.test(e)?(a=e.split("x")[0]||1,a=o(a)*r):s=o(e)*r}})),r={a,b:s}}else if("hyperbolic"==t){var l=0,c=0,h=0;i.forEach((function(e,t){if(e.trim().length>0&&!/[+-]/.test(e)){var r=t>0&&"-"===i[t-1]?-1:1;/\/\d{0,}x/.test(e)?(l=Number(e.split("/")[0]||1),c=(""==(c=(e.split("/")[1]||1).replace("x",""))?1:Number(c))*r):h=o(e)*r}})),r={a:l,b:c,c:h}}else if("quadratic"==t){var f=0,p=0,d=0;i.forEach((function(e,t){if(e.trim().length>0&&!/[+-]/.test(e)){var r=t>0&&"-"===i[t-1]?-1:1;/x\^2/.test(e)?(f=e.split("x")[0]||1,f=o(f)*r):/x/.test(e)?(p=e.split("x")[0]||1,p=o(p)*r):d=o(e)*r}})),r={a:f,b:p,c:d}}else if("cubic"==t){var y=0,b=0,v=0,x=0;i.forEach((function(e,t){if(e.trim().length>0&&!/[+-]/.test(e)){var r=t>0&&"-"===i[t-1]?-1:1;/x\^3/.test(e)?(y=e.split("x")[0]||1,y=o(y)*r):/x\^2/.test(e)?(b=e.split("x")[0]||1,b=o(b)*r):/x/.test(e)?(v=e.split("x")[0]||1,v=o(v)*r):x=o(e)*r}})),r={a:y,b,c:v,d:x}}else if("exponential"==t){var w=0,m=0,g=0;i.forEach((function(e,t){if(e.trim().length>0&&!n.test(e))if(/e\^\{?/g.test(e)){var r=t>0&&"-"===i[t-1]?-1:1;w=e.split("e")[0]||1,w=o(w)*r;var a=e.split("e^")[1].split("x")[0].replace(/\{?/g,"")||1,s=!0===/\-/g.test(a)?-1:1;m="string"==typeof a?a.replace(/\-?/,""):a,m=(o(m)||1)*s}else{var l=t>0&&"-"===i[t-1]?-1:1;g=o(e)*l}})),r={a:w,b:m,c:g}}return r}},{key:"findRoots",value:function(e,t){var r=[];if("linear"==e){var n=-1*t.b/t.a;r.push({x:n,y:0})}else if("quadratic"==e){var i=t.a,o=t.b,a=t.c,s=Math.pow(o,2)-4*i*a;if(s>0){var l=(-o+Math.sqrt(s))/(2*i),c=(-o-Math.sqrt(s))/(2*i);r.push({x:l,y:0}),r.push({x:c,y:0})}else if(0===s){var u=-o/(2*i);r.push({x:u,y:0})}else{var h=-o/(2*i),f=Math.sqrt(-s)/(2*i);r.push({x:h,y:f}),r.push({x:h,y:-f})}}else if("cubic"==e){var p=t.a,d=t.b,y=t.c,b=t.d,v=(3*p*y-Math.pow(d,2))/(3*Math.pow(p,2)),x=(2*Math.pow(d,3)-9*p*d*y+27*Math.pow(p,2)*b)/(27*Math.pow(p,3)),w=Math.pow(x,2)/4+Math.pow(v,3)/27;if(w>0){var m=Math.cbrt(-x/2+Math.sqrt(w))+Math.cbrt(-x/2-Math.sqrt(w))-d/(3*p);r.push({x:m,y:0})}else if(0===w){var g=Math.cbrt(-x/2),P=2*g-d/(3*p),O=-g-d/(3*p);r.push({x:P,y:0}),r.push({x:O,y:0})}else{var S=Math.sqrt(Math.pow(-1*v,3)/27),k=Math.acos(-x/(2*S)),j=2*Math.cbrt(S)*Math.cos(k/3)-d/(3*p),C=2*Math.cbrt(S)*Math.cos((k+2*Math.PI)/3)-d/(3*p),E=2*Math.cbrt(S)*Math.cos((k+4*Math.PI)/3)-d/(3*p);r.push({x:j,y:0}),r.push({x:C,y:0}),r.push({x:E,y:0})}}else if("hyperbolic"==e);else if("exponential"==e){var T=t.a,M=t.b,U=t.c;if(0!==T&&-U/T>0){var _=Math.log(-U/T)/M;r.push({x:_,y:0})}}return r}}])&&j(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U(n.key),n)}}function U(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function R(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var W=new WeakSet,L=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"red";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}(e=function(e,t,r){return t=A(t),function(e,t){if(t&&("object"==T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}(this,t),W),e.processor=new E,e.parent=null,e.formula=r,e.type=e.processor.detect(e.formula),e.parsed=e.processor.parse(e.formula,e.type),e.roots=e.processor.findRoots(e.type,e.parsed),e.color=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(t,e),r=t,(n=[{key:"draw",value:function(){"linear"==this.type&&R(W,this,q).call(this,.1),"quadratic"==this.type&&R(W,this,B).call(this,.1),"cubic"==this.type&&R(W,this,D).call(this,.1),"hyperbolic"==this.type&&R(W,this,H).call(this,.001),"exponential"==this.type&&R(W,this,X).call(this,.075)}}])&&M(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(c);function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.renderer.beginPath(),this.renderer.strokeStyle=this.color,this.renderer.lineWidth=1;for(var t=!0,r=this.parent.visibleArea.x[0]-3;r<this.parent.visibleArea.x[1]+3;r+=e){var n=r,i=this.parsed.a*n+this.parsed.b,o=n*(2*this.parent.gridCellSize)+this.parent.subpixel,a=i*(2*this.parent.gridCellSize)+this.parent.subpixel,s={x:this.parent.cx+o,y:this.parent.cy-a};t?(this.renderer.moveTo(s.x,s.y),t=!1):this.renderer.lineTo(s.x,s.y)}this.renderer.closePath(),this.renderer.stroke()}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.renderer.beginPath(),this.renderer.strokeStyle=this.color,this.renderer.lineWidth=1;for(var t=!1,r=this.parent.visibleArea.x[0]-3;r<this.parent.visibleArea.x[1]+3;r+=e){var n=r,i=this.parsed.a*Math.pow(n,2)+this.parsed.b*n+this.parsed.c,o=n*(2*this.parent.gridCellSize)+this.parent.subpixel,a=i*(2*this.parent.gridCellSize)+this.parent.subpixel,s={x:this.parent.cx+o,y:this.parent.cy-a};s.x<0||s.x>this.parent.viewWidth?t&&(this.renderer.stroke(),this.renderer.closePath(),t=!1):t?this.renderer.lineTo(s.x,s.y):(this.renderer.beginPath(),this.renderer.moveTo(s.x,s.y),t=!0)}t&&(this.renderer.stroke(),this.renderer.closePath())}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.renderer.beginPath(),this.renderer.strokeStyle=this.color,this.renderer.lineWidth=1;for(var t=!1,r=this.parent.visibleArea.x[0]-3;r<this.parent.visibleArea.x[1]+3;r+=e){var n=r,i=this.parsed.a*Math.pow(n,3)+this.parsed.b*Math.pow(n,2)+this.parsed.c*n+this.parsed.d,o=n*(2*this.parent.gridCellSize)+this.parent.subpixel,a=i*(2*this.parent.gridCellSize)+this.parent.subpixel,s={x:this.parent.cx+o,y:this.parent.cy-a};s.x<0||s.x>this.parent.viewWidth?t&&(this.renderer.stroke(),this.renderer.closePath(),t=!1):t?this.renderer.lineTo(s.x,s.y):(this.renderer.beginPath(),this.renderer.moveTo(s.x,s.y),t=!0)}t&&(this.renderer.stroke(),this.renderer.closePath())}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.renderer.beginPath(),this.renderer.strokeStyle=this.color,this.renderer.lineWidth=1;for(var t=!1,r=this.parent.visibleArea.x[0]-3;r<this.parent.visibleArea.x[1]+3;r+=e){var n=r;if(!(Math.abs(n)<.001)){var i=this.parsed.a/(this.parsed.b*n)+this.parsed.c,o=n*(2*this.parent.gridCellSize)+this.parent.subpixel,a=i*(2*this.parent.gridCellSize)+this.parent.subpixel,s={x:this.parent.cx+o,y:this.parent.cy-a};s.x<0||s.x>this.parent.viewWidth?t&&(this.renderer.stroke(),this.renderer.closePath(),t=!1):t?this.renderer.lineTo(s.x,s.y):(this.renderer.beginPath(),this.renderer.moveTo(s.x,s.y),t=!0)}}t&&(this.renderer.stroke(),this.renderer.closePath()),t=!1;for(var l=e;l<this.parent.visibleArea.x[1]+3;l+=e){var c=l,u=this.parsed.a/(this.parsed.b*c)+this.parsed.c,h=c*(2*this.parent.gridCellSize)+this.parent.subpixel,f=u*(2*this.parent.gridCellSize)+this.parent.subpixel,p={x:this.parent.cx+h,y:this.parent.cy-f};p.x<0||p.x>this.parent.viewWidth?t&&(this.renderer.stroke(),this.renderer.closePath(),t=!1):t?this.renderer.lineTo(p.x,p.y):(this.renderer.beginPath(),this.renderer.moveTo(p.x,p.y),t=!0)}t&&(this.renderer.stroke(),this.renderer.closePath())}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.renderer.beginPath(),this.renderer.strokeStyle=this.color,this.renderer.lineWidth=1;for(var t=!1,r=this.parent.visibleArea.x[0]-4;r<this.parent.visibleArea.x[1]+4;r+=e){var n=r,i=(this.parsed.a*Math.exp(this.parsed.b*n)+this.parsed.c)*(2*this.parent.gridCellSize)+this.parent.subpixel,o=n*(2*this.parent.gridCellSize)+this.parent.subpixel,a={x:this.parent.cx+o,y:this.parent.cy-i},s=5*this.parent.gridCellSize;a.x<0||a.x>this.parent.viewWidth||a.y<0-s||a.y>this.parent.viewHeight+s?t&&(this.renderer.stroke(),this.renderer.closePath(),t=!1):t?this.renderer.lineTo(a.x,a.y):(this.renderer.beginPath(),this.renderer.moveTo(a.x,a.y),t=!0)}t&&(this.renderer.stroke(),this.renderer.closePath())}function Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Y=function(){return!!e})()}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}function I(e,t){return e.get(N(e,t))}function N(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K(n.key),n)}}function $(e,t,r){return t&&Q(e.prototype,t),r&&Q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K(e){var t=function(e){if("object"!=V(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==V(t)?t:t+""}var Z=function(){return $((function e(){J(this,e),this.events={}}),[{key:"addEventListener",value:function(e,t){this.events[e]||(this.events[e]=[]),this.target=this,this.events[e].push(t)}},{key:"dispatchEvent",value:function(e,t){this.events[e]&&this.events[e].forEach((function(e){return e(t)}))}}])}(),ee=new WeakMap,te=function(e){function t(e){var r,n,i,o,a=e.cx,s=e.cy,l=e.renderer,c=e.gridCellSize,u=void 0===c?10:c,h=e.gridLineColor,f=void 0===h?"black":h,p=e.gridLineThickness,d=void 0===p?1:p,y=e.fillColor,b=void 0===y?"white":y,v=e.axisColor,x=void 0===v?"black":v;return J(this,t),function(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}((n=this,i=F(i=t),r=function(e,t){if(t&&("object"==V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(n,Y()?Reflect.construct(i,o||[],F(n).constructor):i.apply(n,o))),ee,[]),r.cx=a,r.cy=s,r.globalOffset={x:0,y:0},r.visibleArea={x:[0,0],y:[0,0]},r.renderer=l,r.viewWidth=l.canvas.width,r.viewHeight=l.canvas.height,r.gridCellSize=u,r.gridLineColor=f,r.gridLineThickness=d,r.axisColor=x,r.fillColor=b,r.subpixel=.5,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(t,e),$(t,[{key:"move",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Math.round(e.x*t),n=Math.round(e.y*t);this.cx=this.cx+r,this.cy=this.cy+n,this.globalOffset.x=this.globalOffset.x+r,this.globalOffset.y=this.globalOffset.y+n,I(ee,this).forEach((function(e){e instanceof v?(e.x=e.x+r,e.y=e.y+n):e instanceof S&&(e.startPoint.x=e.startPoint.x+r,e.startPoint.y=e.startPoint.y+n,e.endPoint.x=e.endPoint.x+r,e.endPoint.y=e.endPoint.y+n)}))}},{key:"moveToOrigin",value:function(){var e=this;this.cx=this.viewWidth/2,this.cy=this.viewHeight/2,I(ee,this).forEach((function(t){t instanceof v?(t.x=t.x-e.globalOffset.x,t.y=t.y-e.globalOffset.y):t instanceof S&&(t.startPoint.x=t.startPoint.x-e.globalOffset.x,t.startPoint.y=t.startPoint.y-e.globalOffset.y,t.endPoint.x=t.endPoint.x-e.globalOffset.x,t.endPoint.y=t.endPoint.y-e.globalOffset.y)})),this.globalOffset={x:0,y:0}}},{key:"drawAxis",value:function(){this.renderer.strokeStyle=this.axisColor,this.renderer.lineWidth=1,this.renderer.beginPath(),this.renderer.moveTo(0,this.cy+this.subpixel),this.renderer.lineTo(this.viewWidth,this.cy+this.subpixel),this.renderer.stroke(),this.renderer.beginPath(),this.renderer.moveTo(this.cx+this.subpixel,0),this.renderer.lineTo(this.cx+this.subpixel,this.viewHeight),this.renderer.stroke(),this.renderer.closePath()}},{key:"drawGrid",value:function(){var e=this,t=this.viewWidth,r=this.viewHeight,n=this.gridLineColor,i=n.split(", ").map((function(e){return Number(e.replace(/(\(|\)|rgba|rgb)/gm,""))})),o=i.map((function(e,t){return 3==t&&e<=1?i[t]+.45:e})),a="rgba("+o+")";this.renderer.lineWidth=this.gridLineThickness;for(var s=function(i,o){if(e.renderer.beginPath(),e.renderer.strokeStyle=a,"column"===o){var s=i+2*e.gridCellSize+e.subpixel;e.renderer.moveTo(s,0),e.renderer.lineTo(s,r)}else if("row"===o){var l=i+e.subpixel;e.renderer.moveTo(0,l),e.renderer.lineTo(t,l)}e.renderer.stroke(),e.renderer.closePath(),e.renderer.beginPath(),e.renderer.strokeStyle=n;for(var c=3;c<=5;c++)if("column"===o){var u=i+e.gridCellSize*c+e.subpixel;e.renderer.moveTo(u,0),e.renderer.lineTo(u,r)}else if("row"===o){var h=i+e.gridCellSize*(c-2)+e.subpixel;e.renderer.moveTo(0,h),e.renderer.lineTo(t,h)}e.renderer.stroke(),e.renderer.closePath()},l=4*this.gridCellSize,c=this.cx-t/2,h=Math.trunc(this.globalOffset.x/l),f=t/l-h,p=-1-h;p<f;p++){var d=c+p*l,y=2*(p-7);s(d,"column"),(0,u.m)(this.renderer,{x:d+l/2,y:this.cy-10,text:0==y?"":y,fontSize:11}),p==-1-h&&(this.visibleArea.x[0]=y+2),p==f-1&&(this.visibleArea.x[1]=y)}for(var b=this.cy-r/2,v=Math.trunc(this.globalOffset.y/l),x=-1-v,w=r/l-v+1,m=x;m<w;m++){var g=b+m*l,P=2*(m-5)*-1;s(g,"row"),(0,u.m)(this.renderer,{x:this.cx-7,y:0==P?g+12:g+1,text:P,fontSize:11,align:"right"}),m==x&&(this.visibleArea.y[0]=P-2),m==w-1&&(this.visibleArea.y[1]=P)}}},{key:"add",value:function(e){var t=this;e.renderer=this.renderer;var r=function(e){e.planeX=e.x,e.planeY=e.y;var r=t.cx+e.x*(2*t.gridCellSize)+t.globalOffset.x+t.subpixel,n=t.cy-e.y*(2*t.gridCellSize)+t.globalOffset.y+t.subpixel;e.x=r,e.y=n};e instanceof v?r(e):e instanceof S?(e.startPoint.renderer=this.renderer,r(e.startPoint),e.endPoint.renderer=this.renderer,r(e.endPoint),e.parent=this):e instanceof L&&(e.parent=this),I(ee,this).push(e)}},{key:"clearContent",value:function(){var e,t;t=[],(e=ee).set(N(e,this),t),this.render()}},{key:"fill",value:function(){(0,u.tk)(this.renderer,{x:0,y:0,width:this.viewWidth,height:this.viewHeight,fillColor:this.fillColor})}},{key:"render",value:function(){this.fill(),this.drawGrid(),this.drawAxis(),I(ee,this).length>0&&I(ee,this).forEach((function(e){e.draw()})),this.dispatchEvent("redraw")}}])}(Z);function re(e,t){var r=document.querySelector("#root").querySelector("canvas"),n=r.getContext("2d");r.width=600,r.height=400;var i=new te({renderer:n,cx:300,cy:200,gridCellSize:10,gridLineColor:"rgba(35, 35, 35, 0.35)",gridLineThickness:1,axisColor:"white",fillColor:"black"});i.render();var o=!1,a={x:0,y:0},s={x:0,y:0};r.addEventListener("mousemove",(function(e){if(o){var t=(0,u.OO)(r,e);s={x:t.x-a.x,y:t.y-a.y},a=t,i.move(s,1),i.render()}})),r.addEventListener("mousedown",(function(e){o=!0;var t=(0,u.OO)(r,e);a={x:t.x,y:t.y},r.style.cursor="grab",setTimeout((function(){r.style.cursor="grabbing"}),120)})),r.addEventListener("mouseup",(function(){o=!1,r.style.cursor="inherit"}));var l="";i.addEventListener("redraw",(function(){l="\n            <br/> \n            - x-axis - [".concat(i.visibleArea.x,"], <br/> \n            - y-axis - [").concat(i.visibleArea.y[0]-2,", ").concat(i.visibleArea.y[1],"].\n        "),e.isExist("visibleArea")&&e.updateValue("visibleArea",l)})),t.subscribe((function(t,r,n){if("centerViewAction"==t&&(i.moveToOrigin(),i.render()),"selectedPreset"==t){if(i.moveToOrigin(),i.clearContent(),e.removeDynamicllyRendered(),0==r)[new v("O",0,0,"white"),new v("A",2,2,(0,u.oU)("orange"),(0,u.oU)("red")),new v("B",-2,2,(0,u.oU)("lime"),(0,u.oU)("green")),new v("C",-2,-2,(0,u.oU)("purple"),(0,u.oU)("deepPurple")),new v("D",2,-2,(0,u.oU)("blue"),(0,u.oU)("indigo"))].forEach((function(t){i.add(t),e.dynamicRender("point".concat(t.label),{type:"display-item",label:'- point <span style="font-weight: bold">'.concat(t.label,"</span>"),text:'<i style="font-size: 15px">('.concat(t.planeX,", ").concat(t.planeY,")</i>")})}));else if(1==r)[new v("O",0,0,"white"),new S(["A",-5.5,2],["B",-1.5,2],"#ff0000",1),new S(["B",-1.5,2],["C",0,6],"#ff7f00",1),new S(["C",0,6],["D",1.5,2],"#ffff00",1),new S(["D",1.5,2],["E",5.5,2],"#7fff00",1),new S(["E",5.5,2],["F",2,0],"cyan",1),new S(["F",2,0],["G",3.5,-4],"#007fff",1),new S(["G",3.5,-4],["H",0,-2],"blue",1),new S(["H",0,-2],["I",-3.5,-4],"indigo",1),new S(["I",-3.5,-4],["J",-2,0],"magenta",1),new S(["J",-2,0],["A",-5.5,2],"crimson",1)].forEach((function(t){i.add(t),t instanceof v?e.dynamicRender("point".concat(t.label),{type:"display-item",label:'- point <span style="font-weight: bold">'.concat(t.label,"</span>"),text:'<i style="font-size: 15px">('.concat(t.planeX,", ").concat(t.planeY,")</i>")}):t instanceof S&&e.dynamicRender("segment".concat(t.startPoint.label+t.endPoint.label),{type:"display-item",label:'- segment <span style="font-weight: bold; color: black; text-shadow: 0px 0px 3px  '.concat(t.color,'; border-radius: 3px;"> ').concat(t.startPoint.label).concat(t.endPoint.label,"</span>"),text:'[ <i style="font-size: 15px">('.concat(t.startPoint.planeX,", ").concat(t.startPoint.planeY,"), (").concat(t.endPoint.planeX,", ").concat(t.endPoint.planeY,")</i> ]")})}));else if(r>=2&&r<=6){var o=r-2,a=[[new L("x",(0,u.oU)("red")),new L("-x",(0,u.oU)("orange")),new L("{1/3}x",(0,u.oU)("green")),new L("{-1/3}x",(0,u.oU)("blue")),new L("3x",(0,u.oU)("indigo")),new L("-3x",(0,u.oU)("purple"))],[new L("x^2",(0,u.oU)("red")),new L("-x^2",(0,u.oU)("purple")),new L("1/10x^2",(0,u.oU)("green")),new L("-1/10x^2",(0,u.oU)("cyan")),new L("0.25x^2-5",(0,u.oU)("orange")),new L("-0.25x^2+5",(0,u.oU)("indigo"))],[new L("1/100x^3",(0,u.oU)("red")),new L("-1/100x^3",(0,u.oU)("blue")),new L("x^3+3x^2-6",(0,u.oU)("amber")),new L("-x^3-3x^2+6",(0,u.oU)("purple"))],[new L("1/x",(0,u.oU)("red")),new L("-1/x",(0,u.oU)("purple")),new L("2/x",(0,u.oU)("amber")),new L("-2/x",(0,u.oU)("teal")),new L("3/x",(0,u.oU)("green")),new L("-3/x",(0,u.oU)("cyan"))],[new L("e^x",(0,u.oU)("red")),new L("e^{5/10x}",(0,u.oU)("amber")),new L("e^{3/10x}",(0,u.oU)("yellow")),new L("e^{2/10x}",(0,u.oU)("green")),new L("e^1/10x",(0,u.oU)("blue")),new L("-e^1/10x",(0,u.oU)("deepPurple"))]];console.log(a[o]),e.dynamicRender("visibleArea",{type:"display-item",label:"Current visible area",text:l}),e.dynamicRender("spacer",{type:"display-spacer"}),e.dynamicRender("function-list-title",{type:"display-item",label:"Function graphs drawn",text:a[o].length}),a[o].forEach((function(t,r){var n;i.add(t),e.dynamicRender("function-formula-"+r,{type:"display-float-tile",hideColon:!0,label:(n=t.color,'\n<span style="\nbackground: '.concat((0,u.Hv)(n,.75),"; \nborder: 2px solid ").concat(n,'; \nborder-radius: 100%;\nright: 2px;\nwidth: 8px;\ndisplay: block;\nposition: relative;\nheight: 8px;\n"></span>')),text:"Æ’(x) = ".concat(e.renderFormula(t.formula),";")})}))}i.render()}})),t.setState("selectedPreset",0)}const ne=function(){return n.createElement(i.A,{title:"Cartesian plane demo",desciption:"",uiTree:{description:{type:"display-infobox",label:"Description",text:"Cartesian coordinate system in a plane is a coordinate system that specifies each point uniquely by a pair of real numbers called coordinates, which are the signed distances to the point from two fixed perpendicular oriented lines, called coordinate lines or coordinate axes."},centerViewAction:{type:"button",text:"reset",label:"Center view"},selectedPreset:{type:"preset-dropdown-list",label:"Preset",selectedByDefault:0,options:[{name:"Single points",allowedElements:["*"]},{name:"Segments",allowedElements:["*"]},{name:"Line",allowedElements:["*"]},{name:"Quadratic parabola",allowedElements:["*"]},{name:"Cubic parabola",allowedElements:["*"]},{name:"Hyperbola",allowedElements:["*"]},{name:"Exponential curve",allowedElements:["*"]}]}},code:re})}}}]);