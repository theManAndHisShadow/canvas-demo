(()=>{"use strict";let e=new class{constructor({title:e,ui:t,code:i}){this.displayName="Scene",this.title=e,this.uiTree=t,this.ui=null,this.code=i,this.timestamp=null}execute({root:e}){let t=this.code;e.children[0].textContent=this.title,t(e,this.ui.display,this.ui.states)}}({title:"Concentric circles",ui:{description:{type:"display-item-infobox",label:"Description",text:"A simple scene, training with rotating shapes and interacting with mouse events."},distance:{type:"display-item",label:" - distance to center"},angle:{type:"display-item",label:" - angle of view"},circlesAmount:{type:"input",label:"Circles",maxValue:55,defaultValue:5}},code:(e,i,n)=>{window.runningAnimations.clearQueue();const s=Date.now();let l=resetElement(e.querySelector("canvas"),`canvas-${s}`);l.width=600,l.height=400;const o=l.getContext("2d"),r=300,a=200;let c={x:!1,y:!1},d=null;window.runningAnimations.add((()=>{const e=n.getState("circlesAmount");o.clearRect(0,0,600,400),drawGrid(o,{cellSize:10,lineThickness:1,lineColor:"rgba(0, 0, 0, 0.0032)"});for(let i=0;i<=e;i++){let n=150-150/e*i,s=r-c.x,u=a-c.y,y=150/e,h=2e-4*t(d,l.height/2),x=y*(i/e),w=r-s*x*h,g=a-u*x*h;drawCircle(o,{cx:w,cy:g,r:n,borderThickness:2,borderColor:"#4A235A",fillColor:"#7D3C98"}),i===e-1&&drawCircle(o,{cx:w,cy:g,r:5,borderThickness:2,borderColor:"#4A235A",fillColor:"#4A235A"}),i===e-1&&c.x&&c.y&&(drawLine(o,{x1:w,y1:g,x2:c.x,y2:c.y,color:"rgba(0, 0, 0, 0.5)",thickness:1}),drawLine(o,{x1:150,y1:200,x2:c.x,y2:c.y,color:"rgba(0, 0, 0, 0.5)",thickness:1}),drawLine(o,{x1:450,y1:200,x2:c.x,y2:c.y,color:"rgba(0, 0, 0, 0.5)",thickness:1}),drawLine(o,{x1:300,y1:350,x2:c.x,y2:c.y,color:"rgba(0, 0, 0, 0.5)",thickness:1}),drawLine(o,{x1:300,y1:50,x2:c.x,y2:c.y,color:"rgba(0, 0, 0, 0.5)",thickness:1}))}})),e.addEventListener("mousemove",(e=>{c=getMousePos(l,e),d=Math.round(getDistanseBetweenTwoPoint(c.x,c.y,r,a)),i.updateValue("distance",d+" px."),i.updateValue("angle",Math.round(getAngleBetweenTwoPoints(r,a,c.x,c.y))+" Â°")}))}});function t(e,t){return e>=t?100:Math.round(100*e/t)}window.exportedObjects.push(e)})();